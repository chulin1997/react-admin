{"version":3,"sources":["pages/login/index-portal.jsx","webpack://react-admin/./src/pages/login/style.less?354f","pages/login/style.less","../node_modules/css-loader/dist/runtime/getUrl.js","pages/login/login-bg.jpg","../node_modules/@ant-design/icons-svg/es/asn/UserOutlined.js","../node_modules/@ant-design/icons/es/icons/UserOutlined.js"],"names":["formValues","account","password","queryString","queryStringify","phoneCode","captchaCode","captchaId","srandNumFlagId","isPhone","isCheck","config","path","auth","layout","props","login","ajax","usePost","baseURL","errorTip","useState","message","setMessage","isMount","setIsMount","useForm","form","useEffect","setFieldsValue","setTimeout","formItemClass","styles","formItem","active","root","title","logo","box","name","onFinish","values","loading","params","loginName","run","then","res","id","token","others","setLoginUser","toHome","catch","err","console","error","response","data","header","allowClear","autoFocus","prefix","placeholder","required","type","noStyle","shouldUpdate","style","marginBottom","htmlType","disabled","isFieldsTouched","getFieldsError","filter","errors","length","submitBtn","api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","push","url","test","slice","hash","needQuotes","concat","replace","UserOutlined","ref","React","AntdIcon","Object","assign","icon","UserOutlinedSvg","displayName"],"mappings":"qTAUMA,EAAa,CACfC,QAAS,UACTC,SAAU,QAGRC,EAAcC,YAAe,CAC/BC,UAAW,OACXC,YAAa,OACbC,UAAW,qBACXC,eAAgB,EAChBC,SAAS,EACTC,SAAS,IAGEC,sBAAO,CAClBC,KAAM,gBACNC,MAAM,EACNC,QAAQ,GAHGH,EAIZ,SAAeI,GACd,IAAMC,EAAQD,EAAME,KAAKC,QAAQ,gBAAkBf,EAAa,KAAM,CAACgB,QAAS,UAAWC,UAAU,IADhF,EAGSC,qBAHT,mBAGdC,EAHc,KAGLC,EAHK,OAISF,oBAAS,GAJlB,mBAIdG,EAJc,KAILC,EAJK,OAKN,IAAKC,UAAbC,EALc,oBAkCrBC,qBAAU,WAGFD,EAAKE,eAAe7B,GAGxB8B,YAAW,kBAAML,GAAW,KAAO,OACpC,CAACE,IAEJ,IAAMI,EAAgB,CAACC,IAAOC,SAAR,eAAoBD,IAAOE,OAASV,IAE1D,2CACoBQ,IAAOG,MAD3B,UAEQ,cAAC,IAAD,CAAQC,MAAM,6BAFtB,mCAGwBJ,IAAOK,MAH/B,SAIY,cAAC,IAAD,MAJZ,oCAMwBL,IAAOM,KAN/B,UAOY,oBACIX,KAAMA,EACNY,KAAK,QACLC,SAhDhB,SAAsBC,GAClB,IAAIzB,EAAM0B,QAAV,CAD0B,IAIpBC,EAAS,CACXC,UAFwBH,EAArBxC,QAGHC,SAHwBuC,EAAZvC,UAMhBc,EAAM6B,IAAIF,EAAQ,CAACvB,UAAU,IACxB0B,MAAK,SAAAC,GAAQ,IACHC,EAAyCD,EAAzCC,GAAeT,EAA0BQ,EAArCH,UAAiBK,EAAoBF,EAApBE,MAAUC,EAD7B,YACuCH,EADvC,4BAETI,YAAa,aACTH,KACAT,OACAU,SACGC,IAGPE,iBAEHC,OAAM,SAACC,GAAS,IAAD,IACZC,QAAQC,MAAMF,GACd/B,GAAW,UAAA+B,EAAIG,gBAAJ,mBAAcC,YAAd,eAAoBpC,UAAW,yDAsB1C,6CAKoBS,GALpB,2CAMuBC,IAAO2B,QAN9B,2EAQoB5B,GARpB,SASQ,cAAC,IAAD,CACIQ,KAAK,UACLqB,YAAU,EACVC,WAAS,EACTC,OAAQ,cAAC,IAAD,IACRC,YAAY,uCACZC,UAAQ,MAfpB,mCAkBoBjC,GAlBpB,SAmBQ,cAAC,IAAD,CACIkC,KAAK,WACL1B,KAAK,WACLuB,OAAQ,cAAC,IAAD,IACRC,YAAY,iCACZC,UAAQ,MAxBpB,mCA2BoBjC,GA3BpB,SA4BQ,cAAC,IAAD,CAAUmC,SAAO,EAACC,cAAY,EAACC,MAAO,CAACC,aAAc,GAArD,SACK,gCAAC,KAGM3B,QAAS1B,EAAM0B,QACfuB,KAAK,UACLK,SAAS,SACTC,UAEK5C,EAAK6C,iBAAgB,IAEnB7C,EAAK8C,iBAAiBC,QAAO,qBAAEC,OAAmBC,UAAQA,OAVxE,cAEkB5C,IAAO6C,WAFzB,kCApCzB,mCAuD4B7C,IAAOZ,UAvDnC,SAuD8CE,c,qBChIlD,IAAIwD,EAAM,EAAQ,KACFC,EAAU,EAAQ,MAIC,kBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,OACjB,WAAoB,GAEPN,EAAIC,EAASK,GAI1BF,EAAOG,QAAUN,EAAQO,QAAU,I,kCClBnC,0DAIIC,EAA0B,KAA4B,GACtDC,EAAqC,IAAgC,KAEzED,EAAwBE,KAAK,CAACP,EAAOC,EAAI,gJAAkJK,EAAqC,uhCAAwhC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,wCAAwC,MAAQ,GAAG,SAAW,ufAAuf,eAAiB,CAAC,q6CAAy6C,WAAa,MAEhxGD,EAAwBD,OAAS,CAChC,UAAa,cACb,YAAe,cACf,KAAQ,aACR,KAAQ,aACR,IAAO,YACP,OAAU,eACV,UAAa,kBACb,SAAY,iBACZ,SAAY,iBACZ,OAAU,gBAEI,a,kCCnBfJ,EAAOG,QAAU,SAAUK,EAAKN,GAS9B,OARKA,IAEHA,EAAU,IAMO,kBAFnBM,EAAMA,GAAOA,EAAIV,WAAaU,EAAIT,QAAUS,GAGnCA,GAIL,eAAeC,KAAKD,KAEtBA,EAAMA,EAAIE,MAAM,GAAI,IAGlBR,EAAQS,OAEVH,GAAON,EAAQS,MAKb,cAAcF,KAAKD,IAAQN,EAAQU,WAC9B,IAAKC,OAAOL,EAAIM,QAAQ,KAAM,OAAOA,QAAQ,MAAO,OAAQ,KAG9DN,K,kCChCM,QAA0B,sC,6CCE1BO,EADI,CAAE,KAAQ,CAAE,IAAO,MAAO,MAAS,CAAE,QAAW,gBAAiB,UAAa,SAAW,SAAY,CAAC,CAAE,IAAO,OAAQ,MAAS,CAAE,EAAK,6qBAAirB,KAAQ,OAAQ,MAAS,Y,QCKh2BA,EAAe,SAAsBlF,EAAOmF,GAC9C,OAAoBC,gBAAoBC,IAAUC,OAAOC,OAAO,GAAIvF,EAAO,CACzEmF,IAAKA,EACLK,KAAMC,MAIVP,EAAaQ,YAAc,eACCN,iBAAiBF","file":"static/js/7.82f2c44f.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\nimport {Button, Form} from 'antd';\nimport {LockOutlined, UserOutlined} from '@ant-design/icons';\nimport {FormItem, setLoginUser, queryStringify} from '@ra-lib/admin';\nimport config from 'src/commons/config-hoc';\nimport {toHome} from 'src/commons';\nimport {Logo} from 'src/components';\nimport styles from './style.less';\n\nconst formValues = {\n    account: 'P101282',\n    password: '0000',\n};\n\nconst queryString = queryStringify({\n    phoneCode: '0000',\n    captchaCode: '0000',\n    captchaId: '578721818865569792',\n    srandNumFlagId: 1,\n    isPhone: false,\n    isCheck: true,\n});\n\nexport default config({\n    path: '/login/portal',\n    auth: false,\n    layout: false,\n})(function Login(props) {\n    const login = props.ajax.usePost('/login/login?' + queryString, null, {baseURL: '/portal', errorTip: false});\n\n    const [message, setMessage] = useState();\n    const [isMount, setIsMount] = useState(false);\n    const [form] = Form.useForm();\n\n    function handleSubmit(values) {\n        if (login.loading) return;\n\n        const {account, password} = values;\n        const params = {\n            loginName: account,\n            password,\n        };\n\n        login.run(params, {errorTip: false})\n            .then(res => {\n                const {id, loginName: name, token, ...others} = res;\n                setLoginUser({\n                    id,     // 必须字段\n                    name,   // 必须字段\n                    token,\n                    ...others,\n                    // 其他字段按需添加\n                });\n                toHome();\n            })\n            .catch((err) => {\n                console.error(err);\n                setMessage(err.response?.data?.message || '用户名或密码错误');\n            });\n    }\n\n    useEffect(() => {\n        // 开发时默认填入数据\n        if (process.env.NODE_ENV === 'development' || process.env.REACT_APP_PREVIEW) {\n            form.setFieldsValue(formValues);\n        }\n\n        setTimeout(() => setIsMount(true), 300);\n    }, [form]);\n\n    const formItemClass = [styles.formItem, {[styles.active]: isMount}];\n\n    return (\n        <div className={styles.root}>\n            <Helmet title=\"欢迎登录\"/>\n            <div className={styles.logo}>\n                <Logo/>\n            </div>\n            <div className={styles.box}>\n                <Form\n                    form={form}\n                    name=\"login\"\n                    onFinish={handleSubmit}\n                >\n                    <div className={formItemClass}>\n                        <h1 className={styles.header}>欢迎登录</h1>\n                    </div>\n                    <div className={formItemClass}>\n                        <FormItem\n                            name=\"account\"\n                            allowClear\n                            autoFocus\n                            prefix={<UserOutlined/>}\n                            placeholder=\"请输入用户名\"\n                            required\n                        />\n                    </div>\n                    <div className={formItemClass}>\n                        <FormItem\n                            type=\"password\"\n                            name=\"password\"\n                            prefix={<LockOutlined/>}\n                            placeholder=\"请输入密码\"\n                            required\n                        />\n                    </div>\n                    <div className={formItemClass}>\n                        <FormItem noStyle shouldUpdate style={{marginBottom: 0}}>\n                            {() => (\n                                <Button\n                                    className={styles.submitBtn}\n                                    loading={login.loading}\n                                    type=\"primary\"\n                                    htmlType=\"submit\"\n                                    disabled={\n                                        // 用户没有操作过，或者没有setFieldsValue\n                                        !form.isFieldsTouched(true)\n                                        // 表单中存在错误\n                                        || form.getFieldsError().filter(({errors}) => errors.length).length\n                                    }\n                                >\n                                    登录\n                                </Button>\n                            )}\n                        </FormItem>\n                    </div>\n                </Form>\n                <div className={styles.errorTip}>{message}</div>\n            </div>\n        </div>\n    );\n});\n\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-10-1!../../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-10-2!./style.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/getUrl.js\";\nimport ___CSS_LOADER_URL_IMPORT_0___ from \"./login-bg.jpg\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(true);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".root_27x2_ {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 0;\\n  height: 100vh;\\n  background-image: url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \");\\n  background-size: cover;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n}\\n.logo_215K2 {\\n  position: absolute;\\n  top: 16px;\\n  left: 16px;\\n}\\n.box_3GeED {\\n  padding: 16px 40px;\\n  width: 350px;\\n  border-radius: 0;\\n  z-index: 100;\\n}\\n.box_3GeED .header_1IDbf {\\n  font-size: 25px;\\n  text-align: center;\\n  color: #fff;\\n  font-weight: bolder;\\n}\\n.box_3GeED .submitBtn_2uMDZ {\\n  width: 100%;\\n}\\n.box_3GeED .errorTip_3n82Q {\\n  height: 30px;\\n  line-height: 30px;\\n  text-align: center;\\n  color: red;\\n}\\n.box_3GeED .formItem_tHdOe {\\n  transition-delay: 5s;\\n  transition: 500ms;\\n  transform: translateX(100%);\\n  margin-bottom: 24px;\\n}\\n.box_3GeED .formItem_tHdOe:nth-child(2n) {\\n  transform: translateX(-100%);\\n}\\n.box_3GeED .formItem_tHdOe.active_h8omp {\\n  transform: translateX(0);\\n}\\n.box_3GeED .react-admin-input {\\n  height: 34px;\\n}\\n.box_3GeED .react-admin-btn {\\n  height: 44px;\\n}\\n.box_3GeED .react-admin-form-item-explain {\\n  position: absolute !important;\\n  bottom: -24px !important;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/pages/login/style.less\"],\"names\":[],\"mappings\":\"AAEA;EACI,aAAA;EACA,uBAAA;EACA,mBAAA;EACA,SAAA;EACA,aAAA;EACA,yDAAA;EACA,sBAAA;EACA,2BAAA;EACA,4BAAA;AAGJ;AAAA;EACI,kBAAA;EACA,SAAA;EACA,UAAA;AAEJ;AACA;EACI,kBAAA;EACA,YAAA;EAEA,gBAAA;EAEA,YAAA;AADJ;AALA;EASQ,eAAA;EACA,kBAAA;EACA,WAAA;EACA,mBAAA;AADR;AAXA;EAgBQ,WAAA;AAFR;AAdA;EAoBQ,YAAA;EACA,iBAAA;EACA,kBAAA;EACA,UAAA;AAHR;AApBA;EA2BQ,oBAAA;EACA,iBAAA;EACA,2BAAA;EACA,mBAAA;AAJR;AAMQ;EACI,4BAAA;AAJZ;AAOQ;EACI,wBAAA;AALZ;AAhCA;EA2CY,YAAA;AARZ;AAnCA;EA+CY,YAAA;AATZ;AAtCA;EAmDY,6BAAA;EACA,wBAAA;AAVZ\",\"sourcesContent\":[\"@import \\\"src/theme\\\";\\n\\n.root {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin: 0;\\n    height: 100vh;\\n    background-image: url(\\\"./login-bg.jpg\\\");\\n    background-size: cover;\\n    background-position: center;\\n    background-repeat: no-repeat;\\n}\\n\\n.logo {\\n    position: absolute;\\n    top: 16px;\\n    left: 16px;\\n}\\n\\n.box {\\n    padding: 16px 40px;\\n    width: 350px;\\n\\n    border-radius: 0;\\n    // background: #f8f8f9;\\n    z-index: 100;\\n\\n    .header {\\n        font-size: 25px;\\n        text-align: center;\\n        color: #fff;\\n        font-weight: bolder;\\n    }\\n\\n    .submitBtn {\\n        width: 100%;\\n    }\\n\\n    .errorTip {\\n        height: 30px;\\n        line-height: 30px;\\n        text-align: center;\\n        color: red;\\n    }\\n\\n    .formItem {\\n        transition-delay: 5s;\\n        transition: 500ms;\\n        transform: translateX(100%);\\n        margin-bottom: 24px;\\n\\n        &:nth-child(2n) {\\n            transform: translateX(-100%);\\n        }\\n\\n        &.active {\\n            transform: translateX(0);\\n        }\\n    }\\n\\n    :global {\\n        .@{ant-prefix}-input {\\n            height: 34px;\\n        }\\n\\n        .@{ant-prefix}-btn {\\n            height: 44px;\\n        }\\n\\n        .@{ant-prefix}-form-item-explain {\\n            position: absolute !important;\\n            bottom: -24px !important;\\n        }\\n    }\\n}\\n\\n@packageName: react-admin;\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"antPrefix\": \"react-admin\",\n\t\"raLibPrefix\": \"react-admin\",\n\t\"root\": \"root_27x2_\",\n\t\"logo\": \"logo_215K2\",\n\t\"box\": \"box_3GeED\",\n\t\"header\": \"header_1IDbf\",\n\t\"submitBtn\": \"submitBtn_2uMDZ\",\n\t\"errorTip\": \"errorTip_3n82Q\",\n\t\"formItem\": \"formItem_tHdOe\",\n\t\"active\": \"active_h8omp\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url && url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","export default __webpack_public_path__ + \"static/media/login-bg.3ab1656e.jpg\";","// This icon file is generated automatically.\nvar UserOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z\" } }] }, \"name\": \"user\", \"theme\": \"outlined\" };\nexport default UserOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport UserOutlinedSvg from \"@ant-design/icons-svg/es/asn/UserOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar UserOutlined = function UserOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: UserOutlinedSvg\n  }));\n};\n\nUserOutlined.displayName = 'UserOutlined';\nexport default /*#__PURE__*/React.forwardRef(UserOutlined);"],"sourceRoot":""}